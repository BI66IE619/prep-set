<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PrepSet â€“ GPA Calculator</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="app">
    <aside class="sidebar" id="sidebar">
      <div class="logo-wrap">
    <img class="logo" src="https://files.catbox.moe/whpn5j.png" alt="logo">
</div>

      <nav class="nav">
        <a href="main.html"><span class="icon">ğŸ </span><span class="label link-text">Home</span></a>
        <a href="college-finder.html"><span class="icon">ğŸ“</span><span class="label link-text">College Finder</span></a>
        <a href="essay.html"><span class="icon">âœï¸</span><span class="label link-text">Essay Helper</span></a>
        <a href="interview.html"><span class="icon">ğŸ¤</span><span class="label link-text">Interview Prep</span></a>
        <a href="study-plan.html"><span class="icon">ğŸ“š</span><span class="label link-text">4-Year Plan</span></a>
        <a href="gpa.html"><span class="icon">ğŸ“Š</span><span class="label link-text">GPA Calculator</span></a>
      </nav>

      <div class="sidebar-footer">
        <button class="btn ghost" onclick="toggleSidebar()">â˜°</button>
        <div class="small-muted">All data saved locally. No accounts required.</div>
      </div>
    </aside>

    <main class="main">

      <div class="header">
        <div>
          <h1 class="h-title">GPA Calculator</h1>
          <div class="h-sub">Enter your grades and let AI instantly calculate your weighted and unweighted GPA.</div>
        </div>
      </div>

      <div class="grid">

        <div class="card">
          <h2>Your Grades</h2>

          <label class="label">List your classes + grades</label>
          <textarea id="gradeList" placeholder="Example:
Class 1 - Grade
Class 2 - Grade...
      Or
5 a's
1 b+..."></textarea>

          <label class="label">Extra Notes (optional)</label>
          <input id="gradeNotes" placeholder="Honors, AP, weighting system, school detailsâ€¦">

          <div class="row">
            <button class="btn" id="genGPA">Calculate GPA</button>
            <button class="btn outline" onclick="downloadOutput('gpaOutput','gpa-results')">Download</button>
            <button class="btn ghost" id="clearGPAInputs">Clear</button>
          </div>

          <div class="hint">Tip: If you have any AP/Honors classes, make sure to add the symbol after the letter (B+, A-, C+, ect.) and mention any AP classes in the grades prompt ("1 AP A-" or "AP Human Geo - A-") and add any extra details in the "Extra Notes" prompt.</div>
        </div>

        <div class="card">
          <h2>Results</h2>
          <div id="gpaOutput" class="output" data-save="gpaData"></div>
        </div>

      </div>
    </main>
  </div>

  <script src="app.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const gen = document.getElementById("genGPA");
      gen.addEventListener("click", () => {
        const prompt = `
You are a GPA analysis assistant. Based on this student's grade list:

${document.getElementById("gradeList").value}

Extra notes: ${document.getElementById("gradeNotes").value}

Return the following:
1. **Unweighted GPA** (0â€“4 scale)
2. **Weighted GPA** (include + AP/Honors weighting)
3. A clean table of each class with: Course Name, Grade, Points (UW), Points (W).
4. A short summary explaining how the GPA was calculated.

Format the output cleanly with headings and spacing.
        `;

        generateAndRender(prompt, "gpaOutput", "gpaData");
      });

      document.getElementById("clearGPAInputs").addEventListener("click", () => {
        ["gradeList", "gradeNotes"].forEach(id => {
          const el = document.getElementById(id);
          if (el) el.value = "";
          save(id, "");
        });

        document.getElementById("gpaOutput").innerHTML = "";
        save("gpaData", "");
      });
    });
  </script>

</body>
</html>
